import CodeBlock from "@theme/CodeBlock";

import Struct from "!!raw-loader!./16.struct.zig";
import StructDefaults from "!!raw-loader!./16.struct-defaults.zig";
import StructDeclarations from "!!raw-loader!./16.struct-declarations.zig";

# 结构体

结构体是 Zig 最常见的复合数据类型，允许您定义可以存储一组固定命名字段的类型。
Zig 不保证结构体中字段的内存顺序或其大小。与数组一样，结构体也可以使用 `T{}` 语法整齐的构造。
这是声明和填充结构体的示例。

<CodeBlock language="zig">{Struct}</CodeBlock>

结构体字段不能隐式地未初始化：

```zig
test "missing struct field" {
    const my_vector = Vec3{
        .x = 0,
        .z = 50,
    };
    _ = my_vector;
}
```

```
error: missing field: 'y'
    const my_vector = Vec3{
                        ^
```

字段可以有默认值：

<CodeBlock language="zig">{StructDefaults}</CodeBlock>

与枚举一样，结构体也可以包含函数和声明。

结构体具有独特的属性，当给定一个指向结构体的指针时，在访问字段时会自动完成一级解引用。
请注意，在此示例中如何在交换函数中访问 self.x 和 self.y，而无需解引用自身的指针。

<CodeBlock language="zig">{StructDeclarations}</CodeBlock>
