import CodeBlock from "@theme/CodeBlock";

import FloatsWidening from "!!raw-loader!./19.floats-widening.zig";
import FloatsLiterals from "!!raw-loader!./19.floats-literals.zig";
import FloatsHexUnderscores from "!!raw-loader!./19.floats-hex-underscores.zig";
import FloatsConversion from "!!raw-loader!./19.floats-conversion.zig";

# 浮点数

Zig 的浮点数严格符合 IEEE 标准，除非使用 [`@setFloatMode(.Optimized)`](https://ziglang.org/documentation/master/#setFloatMode)，这相当于 GCC 的 `-ffast-math`。
浮点数可转换为更大的浮点数类型。

<CodeBlock language="zig">{FloatsWidening}</CodeBlock>

浮点数支持多种字面量。

<CodeBlock language="zig">{FloatsLiterals}</CodeBlock>

数字之间也可以放置下划线。

<CodeBlock language="zig">{FloatsHexUnderscores}</CodeBlock>

整数和浮点数可以使用内置函数 [`@floatFromInt`](https://ziglang.org/documentation/0.11.0/#floatFromInt) 和 [`@intFromFloat`](https://ziglang.org/documentation/0.11.0/#intFromFloat) 进行转换。
[`@floatFromInt`](https://ziglang.org/documentation/0.11.0/#floatFromInt) 始终是安全的，而如果浮点数不适合整数目标类型，则 [`@intFromFloat`](https://ziglang.org/documentation/0.11.0/#intFromFloat) 是可检测的非法行为。

<CodeBlock language="zig">{FloatsConversion}</CodeBlock>
